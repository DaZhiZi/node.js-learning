# 一个完整的基于 Node.js 的 web 应用

## 目标

- 用户访问 http://domain/start, 可以看到一个欢迎页面, 页面有一个文件上传的表单
- 用户可以选择一个图片并提交表单, 随后文件将被上传到 http://domain/upload, 页面完成上传以后会把图片显示在页面上

## 需求

- `HTTP`服务器
- 对于不同的请求, 根据请求的 URL, 服务器需要给与不同的响应, 因此需要一个*路由*, 用于把请求对应到请求处理程序
- 当请求被服务器接受并通过路由传递之后, 需要可以对其进行处理, 因此需要最终的*请求处理程序*
- 路由还应该能处理 POST 数据, 并且把数据封装成更友好的格式传递给请求处理程序, 因此需要*请求数据处理功能*
- 处理请求以后, 需要将内容显示出来, 需要*视图逻辑*供请求处理程序使用, 以便将内容发送给用户的浏览器
- 用户需要上传图片, 需要*上传处理功能来处理*来处理这方面的细节

## 构建一个 http 服务器

### 怎么写
不同的功能的代码放入不同的模块中, 拥有一个主文件, 使用`node.js`执行它, 其他模块可以被主文件或者其他模块调用


## 完成

使用方法:

```js
supervisor index
```
开启服务器

1. 上传一个图片, **目前只允许 .png 格式**, 点击`upload`
2. 浏览器自动跳转到`localhost:8888/upload`显示上传的`image`对象
3. 或者访问`localhost:8888/show`直接显示图片
